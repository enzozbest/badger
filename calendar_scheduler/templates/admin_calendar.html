{% extends "partials/base_calendar.html" %}

{% block title %}
Admin Calendar
{% endblock %}

{% block content %}
  <h1>Admin Calendar</h1>

  <!-- Dropdown to select user for filtering calendar -->
  <form method="GET" action="{% url 'calendar_for_user' pk=selected_user %}">
    <label for="user">Select User:</label>
    <select name="user" id="user">
      {% for user in users %}
        <option value="{{ user.id }}" {% if user.id == selected_user %}selected{% endif %}>{{ user.username }}</option>
      {% endfor %}
    </select>
    <button type="submit">View Calendar</button>
  </form>

  <div class="calendar">
    <table>
      <!-- Calendar Structure -->
      <thead>
        <tr>
          <th>Mon</th>
          <th>Tue</th>
          <th>Wed</th>
          <th>Thu</th>
          <th>Fri</th>
          <th>Sat</th>
          <th>Sun</th>
        </tr>
      </thead>
      <tbody>
        {% for week in month_days %}
        <tr>
          {% for day in week %}
          <td>
            <h3>{{ day }}</h3>
            <ul>
              {% for event in events %}
                <li>{{ event.title }} - {{ event.time }}</li>
              {% endfor %}
            </ul>
          </td>
          {% endfor %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
